# Tale TTS (Unitale AI 有声书制作工具改进版)

一个基于 IndexTTS、Qwen3-TTS 和 MOSS-TTS 的 AI 有声书制作工具。利用 LLM 自动拆解剧本与识别情绪，集成多角色 TTS 语音合成，支持智能分析音色、零样本语音克隆、环境音效 (SFX) 生成与背景音乐 (BGM) 混音，并实现实时台词音频滤波器的自动插入和匹配。支持直接在浏览器中进行精细化的音频轨道编辑与成品导出。


*(注：界面图沿用原项目演示)*

### 核心引擎与能力升级

一个面向创作者的 AI 有声故事生成工作台。利用 LLM 深度理解小说文本，实现了音效自动插入、BGM 自动切换、场景滤波器自动设置以及多角色情绪自动演绎的完整自动化编排。

*   **多模型 AI 音色处理引擎**：
    *   **Qwen3-TTS 语音设计**：能够分析文本，为角色智能生成音色描述，使用 Qwen3-TTS 从文本生成专属的参考音频。
    *   **MOSS-TTS 语音设计**：集成 MOSS-VoiceGenerator，提供不同风格的音色生成能力。
    *   **可视化上传/录音与实时修剪**：支持直接调用麦克风录音，或上传本地参照音频。界面内置波形预览与可视化修剪提取，只需鼠标拖拽裁剪，即可精确提取片段作为角色的克隆参考音色。
*   **MOSS AI 氛围音效生成**：集成 MOSS-SoundEffect，只需输入文字描述（如“大雨落在屋顶”）及时长，即可一键生成逼真的环境音效并加入素材库。
*   **精细化 SFX / BGM 编排与混音**：
    *   **AI 自动对轨**：系统深度理解文本中的动作描写与环境氛围，从素材库中检索匹配音效，并精确计算插入时间点。
    *   **独立音轨控制**：支持为剧本中的每一个音效（SFX）单独设置音量大小、并在 UI 上拖拽滑块截取保留片段（`trimStart` / `trimEnd`），支持实时试听裁剪效果与成品渲染导出。
    *   **动态配乐系统**：AI 分析剧情的情绪起伏，自动判断 BGM 的切入、停止与无缝切换时机。
*   **AI 场景感知滤波器**：自动检测特殊的对话场景（如“电话通话中”、“内心独白”、“水下对话”、“广播通知”），自动为对应台词挂载实时物理声场滤波器。
*   **深度情绪与角色演绎**：自动拆分段落并区分旁白与角色，推断角色情绪强度，产生提示词指导 TTS 生成极具感染力的语音表演。


### LLM 使用与配置

工具前端直接兼容各种支持 OpenAI 通用接口的大语言模型。只需在设定页面输入你的第三方 OpenAI 格式 Base URL 及 API KEY 即可完成 LLM 剧本润色与编排的接入。

### 本地化工程与音频资源

*   **全本地化导出与导入**：支持导出 / 导入工程文件 (`.json`)，保存所有的角色设定、音频素材、提示词模板及脚本编辑工作台进度。
*   **资源库管理**：音频资源库（音效、BGM、自定义音色）支持完全本地存储管理，也支持导入作者提供的初始资源包快速起步。


---

## 引用与致谢 (References)

本项目的架构与核心模型能力依托于以下优秀的开源项目，特此致谢：

*   **[Qwen3-TTS](https://github.com/QwenLM/Qwen3-TTS)**: 提供高品质的多语言场景及声音设计能力。
*   **[MOSS-TTS](https://github.com/OpenMOSS/MOSS-TTS)**: 提供 MOSS-VoiceGenerator 语音生成能力及 MOSS-SoundEffect (MOSS 智音空间) 文本到音效生成模型。
*   **[index-tts](https://github.com/index-tts/index-tts)**: 提供核心的基于参考文本与参考音频的富有表现力的 TTS 推理引擎。
*   **[Unitale (Original Project)](https://gitee.com/wangjiabin-x/uh5 / https://github.com/sdsds222)**: 鸣谢原项目作者 **sdsds222** 提供的极其出色的前端界面框架、LLM 智能场景音效排版引擎。本项目在此框架基础之上，深度集成并重构了多 TTS 模型管理架构、独立音效裁剪、并引入了可视化音频录制/切片系统等进阶功能。

